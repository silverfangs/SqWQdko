webpackJsonp([0xa417d324caa5],{"./src/action/MessageAction.js":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(){return function(e){return m.default.get(g.default.serverURL+"/message",{withCredentials:!0}).then(function(t){return e({type:"MESSAGE_SET_GROUP",payload:t.data}),!0}).catch(function(e){console.log(e)})}}function r(e){return function(t){return m.default.put(g.default.serverURL+"/message/chat",{message_uuid:e.msgUUID},{withCredentials:!0}).then(function(e){return t({type:"MESSAGE_SELECTED",payload:e.data}),!0}).catch(function(e){console.log(e)})}}function s(){return function(e){return m.default.get(g.default.serverURL+"/message/recipient",{withCredentials:!0}).then(function(t){return e({type:"MESSAGE_SET_RECIPIENT",payload:t.data}),!0}).catch(function(e){console.log(e)})}}function o(e){return function(t){return m.default.post(g.default.serverURL+"/message/",{subject:e.subject,recipient_uuid:e.recipientUUID,message_type:e.msgType,content:e.content},{withCredentials:!0}).then(function(e){return!0}).catch(function(e){console.log(e)})}}function c(e){return function(t){return m.default.post(g.default.serverURL+"/message/chat",{message_uuid:e.msgUUID,content:e.content},{withCredentials:!0}).then(function(e){return!0}).catch(function(e){console.log(e)})}}function u(e){return function(t){t({type:"MESSAGE_UPDATE_CHAT",payload:e})}}function i(){return function(e){e({type:"MESSAGE_CLEAR"})}}function d(){return function(e){e({type:"MESSAGE_CLEAR_CURRENT"})}}t.__esModule=!0,t.getAllMessages=n,t.getMessageChat=r,t.getRecipient=s,t.createNewMessage=o,t.replyMessage=c,t.replyMessageSocket=u,t.clearAllMessageState=i,t.clearCurrentMessage=d;var f=a("./node_modules/axios/index.js"),m=l(f),p=a("./src/config/index.js"),g=l(p)},"./src/components/dashboard/conversation/ConversationSidebar.js":function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=a("./node_modules/react/react.js"),c=l(o),u=a("./node_modules/gatsby-link/index.js"),i=l(u),d=(a("./node_modules/react-redux/lib/index.js"),function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){return c.default.createElement("div",{className:"col-lg-3"},c.default.createElement("div",{className:"ibox float-e-margins"},c.default.createElement("div",{className:"ibox-content mailbox-content"},c.default.createElement("div",{className:"file-manager"},c.default.createElement(i.default,{className:"btn btn-block btn-primary compose-mail",to:"/dashboard/conversation/new-message"},"Start Conversation"),c.default.createElement("div",{className:"space-25"}),c.default.createElement("h5",null,"Folders"),c.default.createElement("ul",{className:"folder-list m-b-md",style:{padding:0}},c.default.createElement("li",null,c.default.createElement(i.default,{to:"/dashboard/conversation"}," ",c.default.createElement("i",{className:"fa fa-inbox "})," Inbox ",c.default.createElement("span",{className:"label label-warning pull-right"},this.props.messagesLength)," ")),c.default.createElement("li",null,c.default.createElement("a",{href:"#"}," ",c.default.createElement("i",{className:"fa fa-envelope-o"})," Send Mail")),c.default.createElement("li",null,c.default.createElement("a",{href:"#"}," ",c.default.createElement("i",{className:"fa fa-certificate"})," Important")),c.default.createElement("li",null,c.default.createElement("a",{href:"#"}," ",c.default.createElement("i",{className:"fa fa-file-text-o"})," Drafts ",c.default.createElement("span",{className:"label label-danger pull-right"},"2"))),c.default.createElement("li",null,c.default.createElement("a",{href:"#"}," ",c.default.createElement("i",{className:"fa fa-trash-o"})," Trash"))),c.default.createElement("h5",null,"Categories"),c.default.createElement("ul",{className:"category-list",style:{padding:0}},c.default.createElement("li",null,c.default.createElement("a",{href:"#"}," ",c.default.createElement("i",{className:"fa fa-circle text-primary"})," Message")),c.default.createElement("li",null,c.default.createElement("a",{href:"#"}," ",c.default.createElement("i",{className:"fa fa-circle text-danger"})," Complaint")),c.default.createElement("li",null,c.default.createElement("a",{href:"#"}," ",c.default.createElement("i",{className:"fa fa-circle text-info"})," Suggestion")),c.default.createElement("li",null,c.default.createElement("a",{href:"#"}," ",c.default.createElement("i",{className:"fa fa-circle text-warning"})," Security"))),c.default.createElement("h5",{className:"tag-title"},"Labels"),c.default.createElement("ul",{className:"tag-list",style:{padding:0}},c.default.createElement("li",null,c.default.createElement("a",{href:"#"},c.default.createElement("i",{className:"fa fa-tag"})," Message")),c.default.createElement("li",null,c.default.createElement("a",{href:"#"},c.default.createElement("i",{className:"fa fa-tag"})," Complaint")),c.default.createElement("li",null,c.default.createElement("a",{href:"#"},c.default.createElement("i",{className:"fa fa-tag"})," Suggestion")),c.default.createElement("li",null,c.default.createElement("a",{href:"#"},c.default.createElement("i",{className:"fa fa-tag"})," Security"))),c.default.createElement("div",{className:"clearfix"})))))},t}(c.default.Component));t.default=d,e.exports=t.default},'./node_modules/babel-loader/lib/index.js?{"plugins":["C:/Users/aaronkow/Aaron-Workspace/MyResidency/project/frontend/node_modules/gatsby/dist/utils/babel-plugin-extract-graphql.js","C:/Users/aaronkow/Aaron-Workspace/MyResidency/project/frontend/node_modules/babel-plugin-add-module-exports/lib/index.js","C:/Users/aaronkow/Aaron-Workspace/MyResidency/project/frontend/node_modules/babel-plugin-transform-object-assign/lib/index.js"],"presets":[["C:/Users/aaronkow/Aaron-Workspace/MyResidency/project/frontend/node_modules/babel-preset-env/lib/index.js",{"loose":true,"uglify":true,"modules":"commonjs","targets":{"browsers":["> 1%","last 2 versions","IE >= 9"]},"exclude":["transform-regenerator","transform-es2015-typeof-symbol"]}],"C:/Users/aaronkow/Aaron-Workspace/MyResidency/project/frontend/node_modules/babel-preset-stage-0/lib/index.js","C:/Users/aaronkow/Aaron-Workspace/MyResidency/project/frontend/node_modules/babel-preset-react/lib/index.js"],"cacheDirectory":true}!./src/pages/dashboard/conversation/index.js':function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=a("./node_modules/react/react.js"),c=l(o),u=a("./node_modules/react-redux/lib/index.js"),i=a("./node_modules/react-helmet/lib/Helmet.js"),d=l(i),f=a("./node_modules/gatsby-link/index.js"),m=(l(f),a("./src/components/dashboard/conversation/ConversationSidebar.js")),p=l(m),g=a("./src/style/preloader.module.css"),b=l(g),E=a("./src/action/MessageAction.js"),h=function(e){function t(){return n(this,t),r(this,e.apply(this,arguments))}return s(t,e),t.prototype.componentDidMount=function(){this.props.getAllMessages()},t.prototype.navigateToMsg=function(e){(0,f.navigateTo)("/dashboard/conversation/message"),this.props.getMessageChat({msgUUID:e})},t.prototype.render=function(){var e=this,t=this.props.messages.map(function(t,a){var l="label-success";switch(t.type){case"message":l="label-success";break;case"complaint":l="label-danger";break;case"suggestion":l="label-info";break;case"security":l="label-warning"}return c.default.createElement("tr",{key:a,className:t.read_status?"read":"unread"},c.default.createElement("td",{className:"check-mail"},c.default.createElement("input",{type:"checkbox",className:"i-checks"})),c.default.createElement("td",{className:"mail-ontact",style:{width:"33%"}},c.default.createElement("a",{href:"#",onClick:function(){return e.navigateToMsg(t.uuid)}},t.recipient.name," ",c.default.createElement("small",null,"- (",t.recipient.type,")")),c.default.createElement("span",{className:l+" label pull-right"},t.type)),c.default.createElement("td",{className:"mail-subject"},c.default.createElement("a",{href:"#",onClick:function(){return e.navigateToMsg(t.uuid)}},t.subject)),c.default.createElement("td",{className:""},c.default.createElement("small",null,"last response ",moment(t.last_response_at).fromNow())),c.default.createElement("td",{className:"text-right mail-date"},moment(t.created_at).format("DD/MM/YYYY")))});return this.props.user.loggedIn?c.default.createElement("div",{className:"wrapper wrapper-content"},c.default.createElement(d.default,{title:"Conversation - communication channel",meta:[{name:"description",content:"Conversation - communication channel"},{name:"keywords",content:"Conversation"}]}),c.default.createElement("div",{className:b.default.preloader1+" "+(this.props.messages.length>0?"":b.default.active)},c.default.createElement("i",{className:b.default.preloaderIcon+" fa fa-refresh"})),c.default.createElement("div",{className:"row"},c.default.createElement(p.default,{messagesLength:this.props.messages.length}),c.default.createElement("div",{className:"col-lg-9 animated fadeInRight"},c.default.createElement("div",{className:"mail-box-header"},c.default.createElement("form",{method:"get",action:"index.html",className:"pull-right mail-search"},c.default.createElement("div",{className:"input-group"},c.default.createElement("input",{type:"text",className:"form-control input-sm",name:"search",placeholder:"Search email"}),c.default.createElement("div",{className:"input-group-btn"},c.default.createElement("button",{type:"submit",className:"btn btn-sm btn-primary"},"Search")))),c.default.createElement("h2",null,"Inbox (",this.props.messages.length,")"),c.default.createElement("div",{className:"mail-tools tooltip-demo m-t-md"},c.default.createElement("div",{className:"btn-group pull-right"},c.default.createElement("button",{className:"btn btn-white btn-sm"},c.default.createElement("i",{className:"fa fa-arrow-left"})),c.default.createElement("button",{className:"btn btn-white btn-sm"},c.default.createElement("i",{className:"fa fa-arrow-right"}))),c.default.createElement("button",{className:"btn btn-white btn-sm","data-toggle":"tooltip","data-placement":"left",title:"Refresh inbox"},c.default.createElement("i",{className:"fa fa-refresh"})," Refresh"),c.default.createElement("button",{className:"btn btn-white btn-sm","data-toggle":"tooltip","data-placement":"top",title:"Mark as read"},c.default.createElement("i",{className:"fa fa-eye"})," "),c.default.createElement("button",{className:"btn btn-white btn-sm","data-toggle":"tooltip","data-placement":"top",title:"Mark as important"},c.default.createElement("i",{className:"fa fa-exclamation"})," "),c.default.createElement("button",{className:"btn btn-white btn-sm","data-toggle":"tooltip","data-placement":"top",title:"Move to trash"},c.default.createElement("i",{className:"fa fa-trash-o"})," "))),c.default.createElement("div",{className:"mail-box"},c.default.createElement("table",{className:"table table-hover table-mail"},c.default.createElement("tbody",null,t)))))):null},t}(c.default.Component),y=function(e){return{user:e.users.user,messages:e.messages.messages}},N=function(e){return{getAllMessages:E.getAllMessages,getMessageChat:E.getMessageChat}};t.default=(0,u.connect)(y,N())(h),e.exports=t.default},"./src/style/preloader.module.css":function(e,t){e.exports={preloader1:"src-style----preloader-module---preloader1---3HVjL",preloaderIcon:"src-style----preloader-module---preloaderIcon---3C18X",rotation:"src-style----preloader-module---rotation---1VcWA",active:"src-style----preloader-module---active---3BM91"}}});
//# sourceMappingURL=component---src-pages-dashboard-conversation-index-js-1eec7b0b89a65e9e6cb6.js.map